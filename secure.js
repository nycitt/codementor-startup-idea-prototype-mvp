/**
Having fun? More waiting at
           ___      _   _      __       _ 
          / _ \__ _| |_| |__  / _|_   _| |
         / /_)/ _` | __| '_ \| |_| | | | |
        / ___/ (_| | |_| | | |  _| |_| | |
career@ \/    \__,_|\__|_| |_|_|  \__,_|_|.com
@copyright
*/

/**
 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/**
 * @license
 * lodash 3.5.0 (Custom Build - pathful simplified) <https://lodash.com/>
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/*
 * $Id: base64.js,v 2.15 2014/04/05 12:58:57 dankogai Exp dankogai $
 *
 *  Licensed under the MIT license.
 *    http://opensource.org/licenses/mit-license
 *
 *  References:
 *    http://en.wikipedia.org/wiki/Base64
 */

window.pathful={},function(){var pathful;!function(){if(!pathful||!pathful.requirejs){pathful?t=pathful:pathful={};var e,t,n;!function(r){function i(e,t){return w.call(e,t)}function o(e,t){var n,r,i,o,u,a,c,s,l,f,d,p=t&&t.split("/"),h=y.map,g=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),u=e.length-1,y.nodeIdCompat&&j.test(e[u])&&(e[u]=e[u].replace(j,"")),e=p.slice(0,p.length-1).concat(e),l=0;l<e.length;l+=1)if(d=e[l],"."===d)e.splice(l,1),l-=1;else if(".."===d){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||g)&&h){for(n=e.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),p)for(f=p.length;f>0;f-=1)if(i=h[p.slice(0,f).join("/")],i&&(i=i[r])){o=i,a=l;break}if(o)break;!c&&g&&g[r]&&(c=g[r],s=l)}!o&&c&&(o=c,a=s),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function u(e,t){return function(){var n=_.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(r,n.concat([e,t]))}}function a(e){return function(t){return o(t,e)}}function c(e){return function(t){m[e]=t}}function s(e){if(i(v,e)){var t=v[e];delete v[e],b[e]=!0,d.apply(r,t)}if(!i(m,e)&&!i(b,e))throw new Error("No "+e);return m[e]}function l(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function f(e){return function(){return y&&y.config&&y.config[e]||{}}}var d,p,h,g,m={},v={},y={},b={},w=Object.prototype.hasOwnProperty,_=[].slice,j=/\.js$/;h=function(e,t){var n,r=l(e),i=r[0];return e=r[1],i&&(i=o(i,t),n=s(i)),i?e=n&&n.normalize?n.normalize(e,a(t)):o(e,t):(e=o(e,t),r=l(e),i=r[0],e=r[1],i&&(n=s(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},g={require:function(e){return u(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:f(e)}}},d=function(e,t,n,o){var a,l,f,d,p,y,w=[],_=typeof n;if(o=o||e,"undefined"===_||"function"===_){for(t=!t.length&&n.length?["require","exports","module"]:t,p=0;p<t.length;p+=1)if(d=h(t[p],o),l=d.f,"require"===l)w[p]=g.require(e);else if("exports"===l)w[p]=g.exports(e),y=!0;else if("module"===l)a=w[p]=g.module(e);else if(i(m,l)||i(v,l)||i(b,l))w[p]=s(l);else{if(!d.p)throw new Error(e+" missing "+l);d.p.load(d.n,u(o,!0),c(l),{}),w[p]=m[l]}f=n?n.apply(m[e],w):void 0,e&&(a&&a.exports!==r&&a.exports!==m[e]?m[e]=a.exports:f===r&&y||(m[e]=f))}else e&&(m[e]=n)},e=t=p=function(e,t,n,i,o){if("string"==typeof e)return g[e]?g[e](t):s(h(e,t).f);if(!e.splice){if(y=e,y.deps&&p(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?d(r,e,t,n):setTimeout(function(){d(r,e,t,n)},4),p},p.config=function(e){return p(e)},e._defined=m,n=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),i(m,e)||i(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),pathful.requirejs=e,pathful.require=t,pathful.define=n}}(),pathful.define("requirejs",function(){}),pathful.define("lodash-lite",[],function(){function e(e,n,r){function i(){h&&clearTimeout(h),l&&clearTimeout(l),l=h=g=void 0}function o(){var t=n-(c()-d);if(0>=t||t>n){l&&clearTimeout(l);var r=g;l=h=g=void 0,r&&(m=c(),f=e.apply(p,s),h||l||(s=p=null))}else h=setTimeout(o,t)}function u(){h&&clearTimeout(h),l=h=g=void 0,(y||v!==n)&&(m=c(),f=e.apply(p,s),h||l||(s=p=null))}function a(){if(s=arguments,d=c(),p=this,g=y&&(h||!b),v===!1)var t=b&&!h;else{l||b||(m=d);var r=v-(d-m),i=0>=r||r>v;i?(l&&(l=clearTimeout(l)),m=d,f=e.apply(p,s)):l||(l=setTimeout(u,r))}return i&&h?h=clearTimeout(h):h||n===v||(h=setTimeout(o,n)),t&&(i=!0,f=e.apply(p,s)),!i||h||l||(s=p=null),f}var s,l,f,d,p,h,g,m=0,v=!1,y=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT);if(n=0>n?0:+n||0,r===!0){var b=!0;y=!1}else t(r)&&(b=r.leading,v="maxWait"in r&&nativeMax(+r.maxWait||0,n),y="trailing"in r?r.trailing:y);return a.cancel=i,a}function t(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}function n(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r,e));return n}function r(e,t){var n=[];if(!e)return n;for(var r=0;r<e.length;r++)n.push(t(e[r],r,e));return n}function i(e,t){return o(e,function(e){return e==t})}function o(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return null}function u(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}function a(e,t){for(var n in t)(t.hasOwnProperty?t.hasOwnProperty(n):!0)&&(e[n]=t[n])}var c=function(){return(new Date).getTime()};return{debounce:e,mapValues:n,map:r,includes:i,find:o,size:u,assign:a}}),pathful.define("dom/componentor",["lodash-lite"],function(e){function t(t,n,r,i,o,u,a,c){this.name=t,this.tags=e.map(n,function(e){return e.toUpperCase()}),this.has_child=r,this.min_dimension=i,this.max_dimension=o,this.has_id=u,this.classes=a,this.highlight_css=c,this.match_element=function(t){if(e.includes(this.tags,t.tagName)){if(this.has_id&&!t.id)return!1;if("nodelay4"==t.id,this.min_dimension||this.max_dimension){var n=t.offsetWidth,r=t.offsetHeight;if(this.min_dimension&&(n<this.min_dimension[0]||r<this.min_dimension[1]))return!1;if(this.max_dimension&&(this.max_dimension[0]&&n>this.max_dimension[0]||this.max_dimension[1]&&r>this.max_dimension[1]))return!1}return!0}return!1}}function n(e,t,n){this.id=n,this.element=e,this.type=t.name,this.spec=t,this.highlight=function(){this.element.style.border=this.spec.highlight_css}}var r=1,i=[new t("action",["a","button","input","select","textarea","option","legend","label"],!1,[10,10],[null,100],!1,null,"orange solid 3px"),new t("content-heading",["h1","h2","h3","h4","h5","h6"],!1,[100,10],[null,800],!1,null,"green solid 1px"),new t("content-text",["address","blockquote","caption","pre","dd","dt","p","li","td","th"],!1,[100,10],[null,800],!1,null,"green solid 1px"),new t("content-image",["img","object","map"],!1,[100,10],[null,800],!1,null,"green solid 1px"),new t("special",null,!1,null,null,!1,[".pf-capture"],"red dot 1px")],o={},u=function(t,u){var a=null;return e.find(i,function(e){e.match_element(t)&&(a=new n(t,e,u),o[u]=a)}),a&&!a.spec.has_child?r:void 0},a=function(t,n,i){i||(i="/");var o=0;e.map(t.childNodes,function(e){var t;if(e.id){var u="#"+e.id;t=e.tagName+u+":"+o}else t=i+"/"+e.tagName+":"+o;var c=n(e,t);c!=r&&e.hasChildNodes()&&a(e,n,t),o+=1})};return{parse:function(){var e=document.body;a(e,u)},highlight:function(){e.mapValues(o,function(e){e.highlight()})},display:function(e){var t=o[e];return t?(t.highlight(),t.element.scrollIntoView(),t):void console.error("Cannot find element: "+e)},len:function(){return e.size(o)},map_elements:function(t){return e.mapValues(o,function(e,n){return t(e,n)})}}}),pathful.define("dom/ready",[],function(){var e={ready2:function(e){document.addEventListener("DOMContentLoaded",e)},ready_timeout:function(t,n){e.ready(function(){setTimeout(t,n)})},ready:function(){function e(){if(!o.isReady){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}o.ready()}}function t(e){o.bindReady();o.type(e);n.done(e)}var n,r,i={};i["[object Boolean]"]="boolean",i["[object Number]"]="number",i["[object String]"]="string",i["[object Function]"]="function",i["[object Array]"]="array",i["[object Date]"]="date",i["[object RegExp]"]="regexp",i["[object Object]"]="object";var o={isReady:!1,readyWait:1,holdReady:function(e){e?o.readyWait++:o.ready(!0)},ready:function(e){if(e===!0&&!--o.readyWait||e!==!0&&!o.isReady){if(!document.body)return setTimeout(o.ready,1);if(o.isReady=!0,e!==!0&&--o.readyWait>0)return;n.resolveWith(document,[o])}},bindReady:function(){if(!n){if(n=o._Deferred(),"complete"===document.readyState)return setTimeout(o.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",o.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",r),window.attachEvent("onload",o.ready);var t=!1;try{t=null==window.frameElement}catch(i){}document.documentElement.doScroll&&t&&e()}}},_Deferred:function(){var e,t,n,r=[],i={done:function(){if(!n){var t,u,a,c,s,l=arguments;for(e&&(s=e,e=0),t=0,u=l.length;u>t;t++)a=l[t],c=o.type(a),"array"===c?i.done.apply(i,a):"function"===c&&r.push(a);s&&i.resolveWith(s[0],s[1])}return this},resolveWith:function(i,o){if(!n&&!e&&!t){o=o||[],t=1;try{for(;r[0];)r.shift().apply(i,o)}finally{e=[i,o],t=0}}return this},resolve:function(){return i.resolveWith(this,arguments),this},isResolved:function(){return!(!t&&!e)},cancel:function(){return n=1,r=[],this}};return i},type:function(e){return null==e?String(e):i[Object.prototype.toString.call(e)]||"object"}};return document.addEventListener?r=function(){document.removeEventListener("DOMContentLoaded",r,!1),o.ready()}:document.attachEvent&&(r=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",r),o.ready())}),t}()};return e}),pathful.define("config",[],function(){function e(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()}var t="1.1.2",n={set:function(e,t,r){var i,o,u,a,c;r?(u=new Date,u.setTime(u.getTime()+24*r*60*60*1e3),a="; expires="+u.toGMTString()):a="",c=location.host,1===c.split(".").length?document.cookie=e+"="+t+a+"; path=/":(o=c.split("."),o.shift(),i="."+o.join("."),document.cookie=e+"="+t+a+"; path=/; domain="+i,(null==n.get(e)||n.get(e)!=t)&&(i="."+c,document.cookie=e+"="+t+a+"; path=/; domain="+i))},get:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},erase:function(e){n.set(e,"",-1)}},r=!1,i="http:"==window.location.protocol?"http://ssl.pathful.com/":"https://ssl.pathful.com/",o=!0;return{version:t,server:i,apiversion:1,enable_unload:o,debug:r,save_cookie:n.set,get_cookie:n.get,erase_cookie:n.erase,getUserId:function(){var t=n.get("ockamoUserid");return t?t:(t="OC-"+e(),setTimeout(function(){n.set("ockamoUserid",t,365)}),t)}}}),function(e){"use strict";var t,n=e.Base64,r="2.1.7";"undefined"!=typeof module&&module.exports&&(t=require("buffer").Buffer);var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=function(e){for(var t={},n=0,r=e.length;r>n;n++)t[e.charAt(n)]=n;return t}(i),u=String.fromCharCode,a=function(e){if(e.length<2){var t=e.charCodeAt(0);return 128>t?e:2048>t?u(192|t>>>6)+u(128|63&t):u(224|t>>>12&15)+u(128|t>>>6&63)+u(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return u(240|t>>>18&7)+u(128|t>>>12&63)+u(128|t>>>6&63)+u(128|63&t)},c=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(e){return e.replace(c,a)},l=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[i.charAt(n>>>18),i.charAt(n>>>12&63),t>=2?"=":i.charAt(n>>>6&63),t>=1?"=":i.charAt(63&n)];return r.join("")},f=e.btoa?function(t){return e.btoa(t)}:function(e){return e.replace(/[\s\S]{1,3}/g,l)},d=t?function(e){return(e.constructor===t.constructor?e:new t(e)).toString("base64")}:function(e){return f(s(e))},p=function(e,t){return t?d(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):d(String(e))},h=function(e){return p(e,!0)},g=new RegExp(["[\xc0-\xdf][\x80-\xbf]","[\xe0-\xef][\x80-\xbf]{2}","[\xf0-\xf7][\x80-\xbf]{3}"].join("|"),"g"),m=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return u((n>>>10)+55296)+u((1023&n)+56320);case 3:return u((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return u((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},v=function(e){return e.replace(g,m)},y=function(e){var t=e.length,n=t%4,r=(t>0?o[e.charAt(0)]<<18:0)|(t>1?o[e.charAt(1)]<<12:0)|(t>2?o[e.charAt(2)]<<6:0)|(t>3?o[e.charAt(3)]:0),i=[u(r>>>16),u(r>>>8&255),u(255&r)];return i.length-=[0,0,2,1][n],i.join("")},b=e.atob?function(t){return e.atob(t)}:function(e){return e.replace(/[\s\S]{1,4}/g,y)},w=t?function(e){return(e.constructor===t.constructor?e:new t(e,"base64")).toString()}:function(e){return v(b(e))},_=function(e){return w(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},j=function(){var t=e.Base64;return e.Base64=n,t};if(e.Base64={VERSION:r,atob:b,btoa:f,fromBase64:_,toBase64:p,utob:s,encode:p,encodeURI:h,btou:v,decode:_,noConflict:j},"function"==typeof Object.defineProperty){var x=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",x(function(){return _(this)})),Object.defineProperty(String.prototype,"toBase64",x(function(e){return p(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",x(function(){return p(this,!0)}))}}}(this),this.Meteor&&(Base64=global.Base64),pathful.define("base64",function(){}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,u,a=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;o>n;n+=1)u[n]=str(n,c)||"null";return i=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+a+"]":"["+u.join(",")+"]",gap=a,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,c),i&&u.push(quote(r)+(gap?": ":":")+i));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=str(r,c),i&&u.push(quote(r)+(gap?": ":":")+i));return i=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+a+"}":"{"+u.join(",")+"}",gap=a,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),pathful.define("json2",function(){}),pathful.define("queue",["config","base64","json2"],function(e){function t(e){return T.encodeURI(e)}function n(e){return T.decode(e)}function r(e){_&&_.parentNode.removeChild(_),_=document.createElement("script"),_.type="text/javascript",_.src=e,document.body.appendChild(_)}var i,o=0,u=0,a=3e3,c=3e4,s=1e4,l=500,f=2048,d=1e3,p=50,h=document.URL,g=startTime=(new Date).getTime(),m=e.getUserId(),v=[],y=JSON.stringify,b=null,w=null,_=null,j=null,x=function(n,a){for(var c,s={},l=[];c=a.shift();)if(s[c.apiurl]||(s[c.apiurl]={url:c.apiurl,mt:null,dt:[]}),c.meta&&(s[c.apiurl].mt=c.meta),i&&i(c.evt),s[c.apiurl].dt.push(c.evt),y(s[c.apiurl]).length>f-200){e.debug&&console.log("Pausing for next");break}for(var d in s)e.debug&&console.log("Adding event: "+y(s[d])),l.push(s[d]);n.pkt=l;var p,h=y(n),g=h.replace(/[\u0100-\uF8FF]+/g,"");p=t(g),r(e.server+"api/v"+e.apiversion+"/c2.json?bs="+p),o++,u+=p.length},S=function(){e.debug&&console.log("Save("+v.length+" items)"),0!=v.length&&x({ul:h,tms:g,uid:m},v)},O=function(t,n,r){r&&(r.t=(new Date).getTime()-startTime,r.bw=u,r.sc=o,null!=j&&(r.lt=j,j=null));var i={apiurl:t,meta:n,evt:r};v.push(i),e.debug&&v.length>d&&console.warn("Large size packet: "+v.length)},T=window.pathful?window.pathful.Base64:window.Base64,C="pathfulLast",k={EXPIRE_DAYS:3,set:function(){},save:function(){var t=e.get_cookie(C);t&&(e.erase_cookie(C),data=JSON.parse(n(t)),e.debug&&console.log("Save last cookie: "+JSON.stringify(data)),x(data[0],data[1]))}};return{start_time:startTime,clear_last_in_cookie:k.save,queue:function(e,t,n,r){O(e,t,n),r&&S()},start_sending:function(){if(S(),b=setInterval(function(){v.length>=p&&S()},l),w=setInterval(function(){S()},a),setTimeout(function(){w&&(clearInterval(w),w=setInterval(function(){S()},s))},c),e.enable_unload){var t=window.onbeforeunload;window.onbeforeunload=function(n){try{S()}catch(r){e.debug&&console.warn(r)}return t?t(n):void 0}}},stop:function(){clearInterval(b),clearInterval(w)},set_event_callback:function(e){i=e},sentback_len:function(){return o},sentback_size:function(){return u},set_loadtime:function(){j=(new Date).getTime()-startTime}}}),pathful.define("events/identify",["queue","config","lodash-lite"],function(e,t,n){function r(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}var i="/api/v"+t.apiversion+"/segs/c.json",o={referrer:document.referrer||"",userAgent:navigator.userAgent,language:navigator.language,title:document.title||"",width:window.innerWidth,height:window.innerHeight,appid:window.PF_APPID,userid:t.getUserId()},u=["id","email","custom_id_marketo","custom_id_segment"],a=function(n){if(t.debug&&console.log("Setting identity: "+JSON.stringify(n)),n)for(var r=0;r<u.length;r++){var a=u[r];a in n&&(o[a]=n[a])}e.queue(i,o,null,!0)},c={segment:function(){"undefined"!=typeof analytics&&setTimeout(function(){try{var e=analytics._user.id();e&&a({custom_id_segment:e})}catch(n){t.debug&&console.error(n)}})},marketo:function(){var e=r("_mkto_trk");e&&a({custom_id_marketo:e})}};return{get_identity:function(){return o},get_integration_ids:function(){n.mapValues(c,function(e){e()})},identify:a}}),pathful.define("events/touches",["queue","dom/componentor","config","lodash-lite"],function(e,t,n,r){function i(e){for(var t={},n=["clientX","clientY","type","target"],r=0;r<n.length;r++){var i=n[r];t[i]=e[i]}return t}function o(){this.lastSpec=null,this.lastEvt=null,this.eventHandler=function(){evt=this.lastEvt,espec=this.lastSpec,d(espec)(evt)},this.debouncer=r.debounce(this.eventHandler,u),this.denoise=function(e,t){this.lastSpec=e,this.lastEvt=t,this.debouncer()}}var u=300,a=300,c="/api/v"+n.apiversion+"/segs/c.json",s={mouseover:"M",touchstart:"T"},l={touchstart:["touchend","T","C"],mousedown:["mouseup","H","C"]},f={copy:"H",select:"H",focus:"C",keydown:"C",submit:"C"},d=function(t){return function(r,i){return i||(i=f[r.type]||s[r.type]),mouse_data={ids:'["'+t.id+'"]',etyp:t.type,t:(new Date).getTime()-e.start_time,x:r.clientX+(window.screenX||window.screenLeft||0),y:r.clientY+(window.screenY||window.screenTop||0),p:i},n.debug&&console.log(mouse_data.p+" @ "+r.target+"@"+JSON.stringify(mouse_data)),e.queue(c,null,mouse_data),!0}},p=r.mapValues(s,function(){return new o}),h=function(e){return function(t){var r=i(t),o=p[r.type];return o?(o.denoise(e,r),!0):(n.debug&&console.error("No denoiser specified"),!0)}},g=r.mapValues(l,function(){return null}),m=function(e,t,n,r,o){return function(n){var u=n.type==t,c=!1;if(g[t]&&(clearTimeout(g[t]),c=!0),u){var s=i(n);g[t]=setTimeout(function(){d(e)(s,r),g[t]=null},a)}else c&&d(e)(n,o);return!0}},v=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},y=function(e){r.mapValues(s,function(t,n){v(e.element,n,h(e))}),r.mapValues(f,function(t,n){v(e.element,n,d(e))}),r.mapValues(l,function(t,n){var r=t[0],i=m(e,n,r,t[1],t[2]);v(e.element,n,i),v(e.element,r,i)})};return{setup_events:function(){t.map_elements(y)}}}),function(){pathful.requirejs.config({baseUrl:"/src",namespace:"pathful",paths:{requirejs:"/node_modules/requirejs/require",base64:"/node_modules/js-base64/base64",json2:"/node_modules/json2-browser/json2"}}),pathful.requirejs(["dom/componentor","dom/ready","events/identify","events/touches","queue","config","lodash-lite","requirejs"],function(e,t,n,r,i,o,u){var a=!1;return"#nopathful"==document.location.hash?void console.log("Disable Pathful loading"):(n.identify(),i.clear_last_in_cookie(),t.ready(function(){a=!0,i.set_loadtime(),e.parse(),r.setup_events(),i.start_sending(),n.get_integration_ids()}),window.pathful||(window.pathful={}),void u.assign(window.pathful,{version:o.version,config:o,display:e.display,highlight:e.highlight,identity:n.get_identity,identify:n.identify,get_integration_ids:n.get_integration_ids,info:function(){return{ready_loaded:a,version:o.version,components_tracked:e.len(),sentback_events:i.sentback_len(),sentback_size:i.sentback_size()}},stop:function(){i.stop(),console.log("Help is at support@pathful.com :)")}}))})}(),pathful.define("capture",function(){})}.apply(window.pathful);